{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://raw.githubusercontent.com/elembio/base2fastq/master/nextflow_schema.json",
  "title": "elembio/base2fastq pipeline parameters",
  "description": "FASTQ generation using Bases2Fastq for Element AVITI System",
  "type": "object",
  "definitions": {
    "arguments": {
      "title": "Arguments",
      "type": "object",
      "description": "",
      "default": "",
      "properties": {
        "legacy_fastq": {
          "type": "boolean",
          "description": "Apply a legacy file naming convention to FASTQ files, such as SampleName_S1_L001_R1_001.fastq.gz. Some secondary analysis software might require this naming convention."
        },
        "detect_adapters": {
          "type": "boolean",
          "description": "Detect adapter sequences and override any sequences present in the run manifest."
        },
        "force_index_orientation": {
          "type": "boolean",
          "description": "Perform demultiplexing without detecting the index sequence orientation. When used, Bases2Fastq applies the orientation recorded in the run manifest."
        },
        "split_lanes": {
          "type": "boolean",
          "description": "Divide FASTQ files by flow cell lane."
        },
        "filter_mask": {
          "type": "string",
          "description": "Apply a custom base mask to specify the cycles that determine if a read passes filter. Separate each read section with a hyphen. The argument is only compatible with Cloudbreak or Cloudbreak Freestyle chemistry"
        },
        "flowcell_id": {
          "type": "string",
          "description": "Overwrite the flow cell ID in RunParameters.json with another flow cell ID. You can use this argument to add a missing flow cell ID."
        },
        "num_unassigned": {
          "type": "integer",
          "description": "Indicates the maximum number of unassigned sequences to support.",
          "minimum": 0,
          "maximum": 1000
        },
        "settings": {
          "type": "string",
          "description": "Overwrite run manifest settings. May be applies more than once."
        }
      }
    },
    "advanced_settings": {
      "title": "Advanced Settings",
      "type": "object",
      "description": "",
      "default": "",
      "properties": {
        "qc_only": {
          "type": "boolean",
          "description": "Enable QC-only mode, which generates a representative view of run metrics on one tile and no FASTQ files. Executions in QC-only mode are faster than executions with demultiplexing"
        },
        "b2f_args": {
          "type": "string",
          "description": "Send a string of arguments to Bases2Fastq. Recommended for local development only."
        },
        "exclude_tile": {
          "type": "string",
          "description": "Specify subset of tiles to exclude from processing. Use a regex to identify the tiles (e.g. 'L1R..C..S.')"
        },
        "include_tile": {
          "type": "string",
          "description": "Specify subset of tiles to include in processing. Use a regex to identify the tiles (e.g. 'L1R..C..S.'). To include specific tiles, you must first exclude all tiles with the exclude-tile parameter"
        },
        "no_error_on_invalid": {
          "type": "boolean",
          "default": true,
          "description": "Skip non-critical files that Bases2Fastq identifies as invalid"
        },
        "b2f_container_tag": {
          "type": "string",
          "default": "latest",
          "description": "Execute with a specific version of Bases2Fastq"
        }
      }
    },
    "institutional_config_options": {
      "title": "Institutional config options",
      "type": "object",
      "description": "Parameters used to describe centralised config profiles. These should not be edited.",
      "help_text": "The centralised nf-core configuration profiles use a handful of pipeline parameters to describe themselves. This information is then printed to the Nextflow log when you run a pipeline. You should not need to change these values when you run a pipeline.",
      "properties": {
        "custom_config_version": {
          "type": "string",
          "description": "Git commit id for Institutional configs.",
          "default": "master",
          "hidden": true
        },
        "custom_config_base": {
          "type": "string",
          "description": "Base directory for Institutional configs.",
          "default": "https://raw.githubusercontent.com/nf-core/configs/master",
          "hidden": true,
          "help_text": "If you're running offline, Nextflow will not be able to fetch the institutional config files from the internet. If you don't need them, then this is not a problem. If you do need them, you should download the files from the repo and tell Nextflow where to find them with this parameter."
        },
        "config_profile_name": {
          "type": "string",
          "description": "Institutional config name.",
          "hidden": true
        },
        "config_profile_description": {
          "type": "string",
          "description": "Institutional config description.",
          "hidden": true
        },
        "config_profile_contact": {
          "type": "string",
          "description": "Institutional config contact information.",
          "hidden": true
        },
        "config_profile_url": {
          "type": "string",
          "description": "Institutional config URL link.",
          "hidden": true
        }
      }
    },
    "max_job_request_options": {
      "title": "Max job request options",
      "type": "object",
      "description": "Set the top limit for requested resources for any single job.",
      "help_text": "If you are running on a smaller system, a pipeline step requesting more resources than are available may cause the Nextflow to stop the run with an error. These options allow you to cap the maximum resources requested by any single job so that the pipeline will run on your system.\n\nNote that you can not _increase_ the resources requested by any job using these options. For that you will need your own configuration file. See [the nf-core website](https://nf-co.re/usage/configuration) for details.",
      "properties": {
        "max_cpus": {
          "type": "integer",
          "description": "Maximum number of CPUs that can be requested for any single job.",
          "default": 96,
          "hidden": true,
          "help_text": "Use to set an upper-limit for the CPU requirement for each process. Should be an integer e.g. `--max_cpus 1`"
        },
        "max_memory": {
          "type": "string",
          "description": "Maximum amount of memory that can be requested for any single job.",
          "default": "386.GB",
          "pattern": "^\\d+(\\.\\d+)?\\.?\\s*(K|M|G|T)?B$",
          "hidden": true,
          "help_text": "Use to set an upper-limit for the memory requirement for each process. Should be a string in the format integer-unit e.g. `--max_memory '8.GB'`"
        },
        "max_time": {
          "type": "string",
          "description": "Maximum amount of time that can be requested for any single job.",
          "default": "8.h",
          "pattern": "^(\\d+\\.?\\s*(s|m|h|d|day)\\s*)+$",
          "hidden": true,
          "help_text": "Use to set an upper-limit for the time requirement for each process. Should be a string in the format integer-unit e.g. `--max_time '2.h'`"
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "#/definitions/arguments"
    },
    {
      "$ref": "#/definitions/advanced_settings"
    }
  ]
}
